<form [formGroup]="profileForm">
  <mat-form-field>
    <mat-label>Username</mat-label>
    <input matInput formControlName="username" required readonly>
    @if (profileForm.controls['username'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" required>
    @if (profileForm.controls['email'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }

  </mat-form-field>
  <mat-checkbox [checked]="userSession.user.verified" (click)="$event.preventDefault();">
    Email Verification</mat-checkbox>
  @if(userSession.user.verified != true){
  <button mat-stroked-button
    (click)="activicationEmailSent?null:sendActivicationEmail()">{{activicationEmailSent?'activation email sent':'resent activation email'}}</button>
  }
  <br>

  <mat-form-field>
    <mat-label>Full name</mat-label>
    <input matInput formControlName="fullname" required>
    @if (profileForm.controls['fullname'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>SingingPart</mat-label>
    <input matInput formControlName="singingPart">
    @if (profileForm.controls['singingPart'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }
  </mat-form-field>
</form>
<button mat-stroked-button color="primary"(click)="updateProfile()">Update Profile</button>
<form [formGroup]="passwordForm">
  <mat-form-field>
    <mat-label>Password</mat-label>
    <input matInput formControlName="password" type="password" required>
    @if (passwordForm.controls['password'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Confirm Password</mat-label>
    <input matInput formControlName="confirmPassword" type="password" required>
    @if (passwordForm.controls['confirmPassword'].hasError('required')) {
    <mat-error>This field is required</mat-error>
    }
    @if (passwordForm.controls['confirmPassword'].hasError('confirmPasswordMissmatch')) {
    <mat-error>This does not match with the password</mat-error>
    }
  </mat-form-field>
</form>
<button mat-stroked-button color="primary"(click)="updatePassword()">Change Password</button>
