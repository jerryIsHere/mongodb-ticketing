@if (!loaded){
loading
}
@else if(ticketDataSource.data.length == 0){
no data
}
<h1>
  Event:
  @for(eventname of summary.events; track eventname; let i = $index){
  {{eventname}}{{summary.events.size != 1 && i!=summary.events.size -1?', ':''}}
  <br>
  }
</h1>
<p>Total cost: {{summary.price}}</p>
<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon>account_balance</mat-icon>
      bank
    </ng-template>
    <img style="margin-left: auto; margin-right: auto; width: 30%; display: block;"
      src="https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg">
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">savings</mat-icon>
      payme
    </ng-template>
    <img style="margin-left: auto; margin-right: auto; width: 30%; display: block;"
      src="https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg">
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">account_balance_wallet</mat-icon>
      wallet
    </ng-template>
    <img style="margin-left: auto; margin-right: auto; width: 30%; display: block;"
      src="https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg">
  </mat-tab>
</mat-tab-group>
<table mat-table [dataSource]="ticketDataSource" matSort>
  <ng-container matColumnDef="seat">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Seat </th>
    <td mat-cell *matCellDef="let element">
      {{element.seat.row}}{{element.seat.no}}
    </td>
  </ng-container>
  <ng-container matColumnDef="priceTier.price">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
    <td mat-cell *matCellDef="let element">
      {{element.priceTier.price}}
    </td>
  </ng-container>
  <ng-container matColumnDef="paid">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Payment verified </th>
    <td mat-cell *matCellDef="let element">
      @if(element.belongsToUser){
      <mat-checkbox readonly [checked]="element.paid" (click)="$event.preventDefault()"></mat-checkbox>
      }
      @else {
      }
    </td>
  </ng-container>
  <ng-container matColumnDef="paymentRemark">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Payment Remark </th>
    <td mat-cell *matCellDef="let element">
      @if(element.belongsToUser){
      {{element.paymentRemark}}
      }
      @else {
        ticket voided by admin
      }
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="ticketDataColumn"></tr>
  <tr mat-row [class.strikethrough]="row.belongsToUser == false" *matRowDef="let row; columns: ticketDataColumn;"></tr>
</table>
