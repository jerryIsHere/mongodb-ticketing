@if(userSession.user){
<span>
  You may pick seat for sale by clicking on the seat no

  &#9;&#9;
  <br>
  &#40;
  Ticket already sold: <mat-icon fontIcon="block"></mat-icon>
  &#41;
</span>
<br>
@if(seats && venue && event){
{{event.eventname}}
@if(isShowSelling(event)){
<br>
Select seats with text:
<br>
<button mat-stroked-button color="primary" (click)="openForm()">seats in this section</button> /
<button mat-stroked-button color="primary" (click)="openForm(false)">any seats</button>
<br>
Select seats by tapping on seating plan:
<br>
<app-seating-plan #seatingPlan [priceTiers]="event.priceTiers" [venue]="venue" [seats]="seats" [tickets]="tickets"
  soldTicketDisabled reservedSeatDisabled (selectedSeatIdsChange)="checkAction()"
  (selectedSectionChange)="clearAction()" [(selectedSeatIds)]="sectionSelectedSeatIds"
  [limit]="userSession.user? shoppingCartSize: 0">
</app-seating-plan>
}
@else {
Ticket of this show is not purchasable right now. <br>
Sale period:
@for(saleInfo of event.saleInfos; track saleInfo){
{{saleInfo.start | date : 'short'}} - {{saleInfo.end | date : 'short'}}
<br>
}
}
@if(shoppingCartSize == 0){
<br>
The show has temporially stop selling as the shopping cart size is set to 0.<br>
(please contact admin for details)
}
}
@else{
<mat-spinner></mat-spinner>
}
}
@else{
You must login before you can start selecting seat for ticketing
}
<!-- @if(event && event.eventname){
    {{event.eventname}}
    }
    <mat-grid-list [cols]="cols.length" rowHeight="100px">
      @for (seat of slots; track seat) {
      <mat-grid-tile>
        @if(seat && getTiceket(seat._id)) {
        @if(hasBuyer(seat._id)){
        <span>{{seat&&seat.row&&seat.no ? (seat.row + seat.no): ""}} : sold</span>
        }
        @else if(userSession.user){
        <button mat-stroked-button color="primary"[matMenuTriggerFor]="menu"
          [matMenuTriggerData]="{seat_id: seat._id}">{{seat&&seat.row&&seat.no ? (seat.row + seat.no): ""}}
          :
          {{getTiceket(seat._id)?.priceTier?.tierName}}
        </button>
        }
        @else {
        <span>
          {{seat&&seat.row&&seat.no ? (seat.row + seat.no): ""}}
          :
          {{getTiceket(seat._id)?.priceTier?.tierName}}
        </span>
        }
        }
      </mat-grid-tile>
      }
    </mat-grid-list>
    <mat-menu #menu="matMenu">
      <ng-template matMenuContent let-seat_id="seat_id">
        @if(seat_id){
        @if(getTiceket(seat_id)){
        @if(hasBuyer(seat_id)){
        }
        @else{
        <button mat-menu-item (click)="buy(getTiceket(seat_id)?._id)">buy</button>
        }
        }
        @else {
        }
        }
      </ng-template>
    </mat-menu> -->